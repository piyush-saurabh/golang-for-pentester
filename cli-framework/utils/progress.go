package utils

import (
	"sync"

	"github.com/roguesecurity/golang-for-pentester/cli-framework/pkg"

	"github.com/cheggaaa/pb"
)

// ShowProgressBar method displays the progress par based on the number of words processed from the wordlist
// counter is the size of the workdlist
func ShowProgressBar(scannerResult chan pkg.ScannerResult, counter int, wg *sync.WaitGroup) {

	defer wg.Done()

	progressBar := pb.StartNew(counter)

	for i := 0; i < counter; i++ {
		//result := <-ch
		//time.Sleep(time.Millisecond)
		<-scannerResult
		progressBar.Increment()
	}

	progressBar.Finish()
}
